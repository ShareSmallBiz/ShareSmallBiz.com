@model IEnumerable<UserModel>

<div class="container my-4">
    <h2 class="mb-4">User List</h2>
    <div class="list-group">
        @foreach (var user in Model)
        {
            <a href="@Url.Action("ViewProfile", "Profiles", new { id = user.DisplayName })"
               class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    @if ((user.ProfilePicture!=null))
                    {
                        <img class="rounded-circle me-2" style="width: 40px; height: 40px; object-fit: cover;"
                             src="data:image/*;base64,@(Convert.ToBase64String(user.ProfilePicture))" alt="User Profile">
                    }
                    else
                    {
                        <i class="bi bi-person-circle fs-2 me-3"></i>
                    }
                    <div>
                        <h5 class="mb-1">@user.DisplayName (@user.UserName)</h5>
                        <p class="mb-1 text-muted">@user.Email</p>
                    </div>
                </div>
                <span class="badge bg-primary rounded-pill">@user.PostCount Posts</span>
            </a>
        }
    </div>
</div>
